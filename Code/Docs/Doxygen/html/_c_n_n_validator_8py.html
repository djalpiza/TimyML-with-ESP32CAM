<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Counter Detection with ESP32-CAM: CNNValidator.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="medidor_deck.png"/></td>
  <td id="projectalign">
   <div id="projectname">Counter Detection with ESP32-CAM<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">TinyML project to use CNN to get the digital value of the meter reading.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">CNNValidator.py File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This function takes a pre-trained model and a validation directory to calculate confusion matrix of the results.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespace_c_n_n_validator"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_c_n_n_validator.html">CNNValidator</a></td></tr>
<tr class="memdesc:namespace_c_n_n_validator"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function takes a pre-trained model and a validation directory to calculate confusion matrix of the results. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aef8810995a7710f371b005b72ac0fbec"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_c_n_n_validator.html#aef8810995a7710f371b005b72ac0fbec">CNNValidator.validator</a> (ModelNameAndVersion, val_dir)</td></tr>
<tr class="separator:aef8810995a7710f371b005b72ac0fbec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This function takes a pre-trained model and a validation directory to calculate confusion matrix of the results. </p>
<h1><a class="anchor" id="description_CNNValidator"></a>
Description</h1>
<p >This function runs the validator for the model. It loads the model, summarizes it, and then uses the model to predict the values for images in the validation directory. It then compares the predicted values to the actual values and plots the results. param ModelNameAndVersion: The name and version of the model to be loaded. param val_dir: The directory containing the validation images. Return: None</p>
<h1><a class="anchor" id="libraries_CNNValidator"></a>
Libraries/Modules</h1>
<ul>
<li>glob standard library (<a href="https://docs.python.org/3/library/glob.html">https://docs.python.org/3/library/glob.html</a>)</li>
<li>Allows for file name pattern matching. It is used to find all the files in a directory that match a certain pattern, such as all files with the .jpg extension.</li>
<li>os standard library (<a href="https://docs.python.org/3.10/library/os.html">https://docs.python.org/3.10/library/os.html</a>)</li>
<li>Access to operating system interfaces.</li>
<li>numpy package (<a href="https://numpy.org/doc/stable/user/index.html">https://numpy.org/doc/stable/user/index.html</a>)</li>
<li>Access to support for large, multi-dimensional arrays and matrices, along with a large collection of high-level mathematical functions to operate on these arrays.</li>
<li>keras.preprocessing.image standard library (<a href="https://keras.io/api/preprocessing/image/">https://keras.io/api/preprocessing/image/</a>)</li>
<li>Provides tools for loading, transforming and augmenting images.</li>
<li>ImageDataGenerator class (<a href="https://www.tensorflow.org/api_docs/python/tf/keras/preprocessing/image/ImageDataGenerator">https://www.tensorflow.org/api_docs/python/tf/keras/preprocessing/image/ImageDataGenerator</a>)</li>
<li>Class in the above module, which allows to instantiate generators of augmented image batches.</li>
<li>PIL Library (<a href="https://pypi.org/project/Pillow/">https://pypi.org/project/Pillow/</a>)</li>
<li>Python Imaging Library module provides support for opening, manipulating, and saving many different image file formats. Image is class in PIL module which is used for opening and manipulating image files.</li>
<li>display (<a href="https://holoviews.org/Reference_Manual/holoviews.ipython.html">https://holoviews.org/Reference_Manual/holoviews.ipython.html</a>)</li>
<li>This import is used to display interactive images and plots in Jupyter notebooks.</li>
<li>matplotlib (<a href="https://matplotlib.org/">https://matplotlib.org/</a>)</li>
<li>This import is used to create static plots and charts using the matplotlib library.</li>
<li>load_model (<a href="https://www.tensorflow.org/api_docs/python/tf/keras/models/load_model">https://www.tensorflow.org/api_docs/python/tf/keras/models/load_model</a>)</li>
<li>This import is used to load a pre-trained Keras model from a file.</li>
<li>metrics (<a href="https://scikit-learn.org/stable/modules/model_evaluation.html">https://scikit-learn.org/stable/modules/model_evaluation.html</a>)</li>
<li>This import is used to calculate performance metrics for machine learning models using the scikit-learn library.</li>
<li>scaling (Code/data/ScalingData.py)</li>
<li>This import is used to import the function scaling from the module <a class="el" href="namespace_scaling_data.html" title="This function resizes all jpeg images in a specified input directory to a specified size and saves th...">ScalingData</a> located in the data directory.</li>
</ul>
<h1><a class="anchor" id="notes_CNNValidator"></a>
Notes</h1>
<ul>
<li>Comments are Doxygen compatible.</li>
</ul>
<h1><a class="anchor" id="todo_CNNValidator"></a>
TODO</h1>
<ul>
<li>None.</li>
</ul>
<h1><a class="anchor" id="author_CNNValidator"></a>
Author(s)</h1>
<ul>
<li>Created by Dereck Alpizar, Nisha Kumari &amp; Neeranjan JK on 16/10/2022.</li>
<li>Modified by Dereck Alpizar, Nisha Kumari &amp; Neeranjan JK on 29/01/2023. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
